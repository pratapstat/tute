### Compiling Snakemake Script
snakemake -j 8 -p run_MLST -s test1.snakemake

### 2
First, glob_wildcards(INPUTDIR + "{basenames}_R1.fastq.gz") returns a Wildcards object that contains the key:value pair for each wildcard. If you want to get the basenames, it should be glob_wildcards(INPUTDIR + "{basenames}_R1.fastq.gz").basenames

Second, I assume all fastq.gz files are generated by decompress_h1n1 checkpoint, since you already include the fastqc output in aggregate_decompress_h1n1 function. You shouldn't include those outputs again in rule all, it leads to snakemake try to do fastqc before checkpoint got executed.

Third, you should also put your trim_qc outputs in the aggregate_decompress_h1n1 function, basically it's the same issue as fastqc, probably the same for salmon related rules too.

There might be a potential issue, I noticed you use wrapper for fastqc, I remember that official fastqc wrapper requires the output must have html and zip, while you have a raw prefix. But I didn't see a 0.80.3 release in official document, not sure if you are using some other repository to access wrapper

### 3
By default snakemake runs only the first rule of a workflow. If its inputs are not available, it will look for other rules to produce them.

### 4
A rule is not executed until all its input exists, so all you have to do is add the output of the bwa rule

### 5
By the all rule, you tell snakemake which folders you would like to get created, but you didn't tell snakemake how to create it. Of cause you defined the rule "folders", where you can see a shell command, but snakemake doesn't know, what is it good for. Always remember: there is usually only a single rule without output and thats the "all" rule.

So you just have to set an output, in order to tell snakemake knows what the rule does.

```
rule folders:
    output: "./output/{folder}/{sample}"
    shell: "mkdir {output}"
```

now it knows, that the folders rule creates a file (or in you case a directory) with the scheme ./output/{folder}/{sample}
Great, finally the shell command create "mkdir {output}" creates the output. Its always better to simply use "{output}" "{input}" and "{params}" than the wildcards by the wildcards object.


Nevertheless, you know that snakemake creates the directories by itself, if they doesn't exist?
So if you would like to do further analysis by the use of snakemake, you don't have to care about directory creation, its done automatically.

