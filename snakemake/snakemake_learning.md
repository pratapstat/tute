### Compiling Snakemake Script
snakemake -j 8 -p run_MLST -s test1.snakemake

### 2
First, glob_wildcards(INPUTDIR + "{basenames}_R1.fastq.gz") returns a Wildcards object that contains the key:value pair for each wildcard. If you want to get the basenames, it should be glob_wildcards(INPUTDIR + "{basenames}_R1.fastq.gz").basenames

Second, I assume all fastq.gz files are generated by decompress_h1n1 checkpoint, since you already include the fastqc output in aggregate_decompress_h1n1 function. You shouldn't include those outputs again in rule all, it leads to snakemake try to do fastqc before checkpoint got executed.

Third, you should also put your trim_qc outputs in the aggregate_decompress_h1n1 function, basically it's the same issue as fastqc, probably the same for salmon related rules too.

There might be a potential issue, I noticed you use wrapper for fastqc, I remember that official fastqc wrapper requires the output must have html and zip, while you have a raw prefix. But I didn't see a 0.80.3 release in official document, not sure if you are using some other repository to access wrapper

### 3
By default snakemake runs only the first rule of a workflow. If its inputs are not available, it will look for other rules to produce them.

### 4
A rule is not executed until all its input exists, so all you have to do is add the output of the bwa rule

